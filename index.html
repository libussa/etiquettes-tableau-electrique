<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Ma page de test</title>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
	<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
	<style>
		body {
			text-align: center;
			vertical-align: middle;
			font-family: Roboto;
			font-size: 9pt
		}

		.font-8 {
			font-size: 8pt;
		}

		table {
			border-collapse: collapse;
			margin-top: 15px;
		}

		td {
			width: 1.8cm;
		}

		td.col-2 {
			width: 3.6cm;
		}

		.emplacement td {
			border-left: 1px solid white;
		}

		.icon {
			height: 1.8cm;
			border-top: 1px solid black
		}

		.application {
			height: 1cm;
		}

		.emplacement {
			height: 2.2cm;
		}

		.emplacement {
			background-color: #666666;
			color: white;
			font-weight: bold;
		}

		.icon img {
			filter: grayscale(100%);
		}
		
		.data {
			margin-top: 15px;
			text-align:left;
		}

		@page {
			size: A4 landscape;
		}
	</style>


</head>

<body>
	<div id="tableau">
		<div v-for="rangee in rangees">
			<table>
				<tbody>
					<tr class="icon">
						<td v-for="module in rangee.modules" :class="modSize(module)"><img :src="srcImg(module)" @click="changeIcon(module)"></td>
					</tr>
					<tr class="application">
						<td v-for="module in rangee.modules" :class="modSize(module)">{{module.app}}</td>
					</tr>
					<tr class="emplacement">
						<td v-for="module in rangee.modules" :class="modSize(module)" v-html="loc(module)"></td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<div class="data">{{rangees}}
		</div>

	</div>
	


	<script>
		const { createApp } = Vue;

		createApp({
			data() {
				return {
					icons: ["none","prise","eclairage","chaudiere","machine-a-laver","interrupteur-differentiel","interphone"],
					rangees: [
						{
							modules: [
								{ img: "interrupteur-differentiel", app: "Interrupteur différentiel", loc: "Général", mod: 2 },
								{ img: "interrupteur-differentiel", app: "Disjoncteur", loc: "Tableau Cuisine" },
								{ img: "interrupteur-differentiel", app: "Disjoncteur", loc: "Tableau Principal" },
								{ img: "prise", app: "Prise de courant", loc: "Ch. Garage" },
								{ img: "prise", app: "Prise de courant", loc: "S<span class='font-8'>alle de </span>Bain\nCh. Rue\nCh. Jardin" },
								{ img: "prise", app: "Prise de courant", loc: "Ch. Jardin\nBureau\nCh. Garage" },
								{ img: "prise", app: "Prise de courant", loc: "Ch. Garage Garage" },
								{ img: "eclairage", app: "Éclairage", loc: "S<span class='font-8'>alle de Bain</span> Ch. Rue\nCh. Jardin Bureau Sonnette" },
								{ img: "eclairage", app: "Éclairage", loc: "Palier\nCh. Garage Grenier" },
								{ img: "eclairage", app: "Télérupteur", loc: "Palier" },
								{ img: "interphone", app: "Transformateur Sonnette", loc: "Hall", mod: 2 },
							]
						}, {
							modules: [
								{ img: "prise", app: "Prise de courant", loc: "Salon" },
								{ img: "prise", app: "Prise de courant", loc: "Cuisine" },
								{ img: "chaudiere", app: "Chaudière", loc: "Garage" },
								{ img: "eclairage", app: "Éclairage", loc: "Cuisine Salon" },
								{ img: "eclairage", app: "Éclairage", loc: "Hall\nWC\nGarage" },
								{ img: "machine-a-laver", app: "Machine à laver", loc: "Garage" },
								{ img: "prise", app: "Prise 20A", loc: "Garage" },
								{ app: "Non utilisé" },
								{ img: "eclairage", app: "Télérupteur", loc: "Garage" },
								{ img: "eclairage", app: "Télérupteur", loc: "Hall" },
								{},
								{},
								{}
							]
						}
					]

				}
			},
			methods: {
				srcImg: function (module) {
					return module.img ? 'img/' + module.img + '.png' : '';
				},
				modSize: function (module) {
					return 'col-' + (module.mod ? module.mod : '1');
				},
				loc: function (module) {
					if (!module.loc) return '';
					return module.loc.replaceAll('\n', '<br>')
				},
				changeIcon: function (module) {
					let index = this.icons.indexOf(module.img)
					module.img=this.icons[(index+1)%this.icons.length];
				}
			}
		}).mount('#tableau');

	</script>
	
		<!--
	<table>
		<tbody>
			<tr class="icon">
				<td><img src="img/prise.png"></td>
				<td><img src="img/prise.png"></td>
				<td><img src="img/chaudiere.png"></td>
				<td><img src="img/eclairage.png"></td>
				<td><img src="img/eclairage.png"></td>
				<td><img src="img/machine-a-laver.png"></td>
				<td><img src="img/prise.png"></td>
				<td></td>
				<td><img src="img/eclairage.png"></td>
				<td><img src="img/eclairage.png"></td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
			<tr class="application">
				<td>Prise de courant</td>
				<td>Prise de courant</td>
				<td>Chaudière</td>
				<td>Éclairage</td>
				<td>Éclairage</td>
				<td>Machine à laver</td>
				<td>Prise 20A</td>
				<td>Non utilisé</td>
				<td>Télérupteur</td>
				<td>Télérupteur</td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
			<tr class="emplacement">
				<td>Salon</td>
				<td>Cuisine</td>
				<td>Garage</td>
				<td>Cuisine Salon</td>
				<td>Hall</br>WC</br>Garage</td>
				<td>Garage</td>
				<td>Garage</td>
				<td></td>
				<td>Garage</td>
				<td>Hall</td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
		</tbody>
	</table>
	<!-- DivTable.com -->
</body>

</html>
